/**
 * {{ControllerName}} Controller
 *
 * Layered Architecture - Presentation/API Layer
 * Handles HTTP requests and responses
 *
 * @package api/controllers
 */

import { {{ServiceName}}Service } from '../business/{{ServiceName}}Service';

export class {{ControllerName}}Controller {
  constructor(
    private readonly service: {{ServiceName}}Service
  ) {}

  async handleGet(req: Request): Promise<Response> {
    try {
      const result = await this.service.getData(req.params.id);
      return {
        status: 200,
        body: result
      };
    } catch (error) {
      return this.handleError(error);
    }
  }

  async handlePost(req: Request): Promise<Response> {
    try {
      const result = await this.service.createData(req.body);
      return {
        status: 201,
        body: result
      };
    } catch (error) {
      return this.handleError(error);
    }
  }

  private handleError(error: Error): Response {
    return {
      status: 500,
      body: { error: error.message }
    };
  }
}
